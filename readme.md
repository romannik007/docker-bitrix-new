в скрипте отключил удаление логов и настройку фаервола, так как в докер его не устанавливал
Выполнять в следующей последовательности:
1. **build.sh**  - (запускать 1 раз если все нормально без ошибок на экране) для установки  «1С-Битрикс: Веб-окружение» - Linux (BitrixEnv) - стандартный скрипт со страницы https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=37&LESSON_ID=8811
2. Сменить пароль для пользователя bitrix - это формальность, так как build.sh используется только для установки софта
3. **выполнить** установоку push&pull nodejs через меню - это 9 пункт (обязательно дождаться установки. Процесс можно наблюдать в top или в пунктах меню)
4. **выйти** из контейнера
5. **commit.sh** - для создания образа из контейнера с установленной средой (впоследствии из него запускаем новый контейнер с пробросом нужных папок)
6. **Теперь** образ необходимо поместить в реестр, чтобы потом произвести pull
7. **Чтобы** работало редактирование файлов в проекте и на хосте и в контейнере:
   - исправляем файл или создаем /etc/docker/daemon.json:
      
      ```al
      {
          "userns-remap": "<свое имя пользователя в системе>"
      }
      ```

      **пример**: у меня пользователь user2
      
      ```al
      {
          "userns-remap": "user2"
      }
      ```

  
   - в /etc/subgid и /etc/subuid
      
      *<свое имя пользователя в системе>:<ID>:65536*

      где *<ID> = id* пользователя в системе минус id пользователя bitrix в контейнере (почти всегда 600)

      **пример**: у меня пользователь user2 uid=1000 и gid=1000
                 
         /etc/subuid
            user2:400:65536 
                     
         /etc/subgid
            user2:400:65536 
            
         
8. ***sudo service docker restart***
   (все контейнеры и образы, созданные под предыдущим uid и gid, не будут видны)
9. ***chmod -R 777 ./bitrix/mysql***
10. ***docker-compose up -d --build --force-recreate***
11.  **копируем** bitrixsetup.php в папку ./bitrix/www
12. **входим** в вэбку http://127.0.0.1/bitrixsetup.php
13. Так как при настройке push servera файл .settings.php не сохраняется, то заранее заменяем его (КЛЮЧ УЖЕ ПРОПИСАН)
14. **или** распаковываем свой проект

**Дополнительно**:
- в файле .env содержаться данные для подключения к mysql
- адрес сервера БД - mysql (указываем для подключения)
- commit_push - для создания образа из контейнера с установленной средой и push в нужный реестр
- *docker-compose up -d --build --force-recreate*  - запуск только первый раз, далее уже запускаем *docker-compose up -d* или *docker-compose start* (вэбка доступна по порту 80 или 443, mysql - 3306)
- *docker exec -ti <сервис> /bin/bash* - подключиться к контенеру в баш )
- папка *rebuild image* - для ребюлда готового образа или внесения изменений
